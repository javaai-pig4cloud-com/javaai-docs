---
title: 'deepseek4j RAG å¤šæ¨¡æ€æ–‡ä»¶å¤„ç†'
---

<Card title="ä»€ä¹ˆæ˜¯office2md" icon="link" href="https://github.com/pig-mesh/office2md">
è¿™æ˜¯ä¸€é¡¹åŸºäº Markdown æ ¼å¼çš„å¤šåŠŸèƒ½è½¬æ¢æœåŠ¡ï¼Œæ”¯æŒå°† PowerPointã€Wordã€Excelã€å›¾åƒã€éŸ³é¢‘å’Œ HTML ç­‰æ–‡ä»¶è½¬åŒ–ä¸º Markdown æ ¼å¼ã€‚åŒæ—¶ï¼ŒæœåŠ¡æ•´åˆäº† Gitee AI å’Œæ™ºè°± AI æä¾›çš„ GLM-4V æ¨¡å‹ï¼Œä»¥åŠé˜¿é‡Œäº‘ç™¾ç‚¼å¹³å°çš„ Qwen-VL-Max æ¨¡å‹ï¼Œç”¨äºå›¾ç‰‡å’Œ PDF æ–‡ä»¶çš„é«˜æ•ˆæ–‡æœ¬è¯†åˆ«ã€‚
</Card>


## Docker ä½¿ç”¨è¯´æ˜

### 1. å¿«é€Ÿä½¿ç”¨

```bash
# å†…ç½®äº†GLM-4V-FLASHè§†è§‰æ¨¡å‹ï¼Œä»…ä¾›æµ‹è¯•ä½¿ç”¨
docker run -p 8000:8000 registry.cn-hangzhou.aliyuncs.com/dockerhub_mirror/markitdown
```

### 2. ä½¿ç”¨ Gitee AI

```bash
docker run -d \
 -p 8000:8000 \
 -e API_KEY=gitee_ai_key \
 -e MODEL=InternVL2_5-26B \
 -e BASE_URL=https://ai.gitee.com/v1 \
 registry.cn-hangzhou.aliyuncs.com/dockerhub_mirror/markitdown
```

### 3. ä½¿ç”¨é˜¿é‡Œäº‘ç™¾ç‚¼å¹³å°

```bash
docker run -d \
  -p 8000:8000 \
  -e API_KEY=your_aliyun_api_key \
  -e MODEL=qwen-vl-max \
  -e BASE_URL=https://dashscope.aliyuncs.com/api/v1 \
  registry.cn-hangzhou.aliyuncs.com/dockerhub_mirror/markitdown
```

## ç¯å¢ƒå˜é‡è¯´æ˜

æœåŠ¡æ”¯æŒä»¥ä¸‹ç¯å¢ƒå˜é‡é…ç½®ï¼š

| ç¯å¢ƒå˜é‡     | è¯´æ˜                   | é»˜è®¤å€¼                                                 |
| ------------ | ---------------------- | ------------------------------------------------------ |
| API_KEY      | AI å¹³å°çš„ API å¯†é’¥     | XXXX                                                   |
| BASE_URL     | AI å¹³å°çš„ API åŸºç¡€ URL | https://open.bigmodel.cn/api/paas/v4                   |
| MODEL        | ä½¿ç”¨çš„æ¨¡å‹åç§°         | glm-4v-flash                                           |
| DELETE_DELAY | ä¸´æ—¶æ–‡ä»¶åˆ é™¤å»¶è¿Ÿï¼ˆç§’ï¼‰ | 300                                                    |
| PROMPT       | æ–‡æœ¬æå–æç¤ºè¯         | æå–å›¾ç‰‡ä¸­å…¨éƒ¨çš„æ–‡æœ¬ï¼Œä¸éœ€è¦ä»»ä½•æ¨ç†å’Œæ€»ç»“ï¼Œåªéœ€è¦åŸæ–‡ |

### æ”¯æŒçš„æ¨¡å‹é…ç½®

#### æ™ºè°± AI

- MODEL=glm-4v-flash
- BASE_URL=https://open.bigmodel.cn/api/paas/v4

#### Gitee AI

- MODEL=InternVL2_5-26B
- BASE_URL=https://ai.gitee.com/v1

#### é˜¿é‡Œäº‘ç™¾ç‚¼

- MODEL=qwen-vl-max
- BASE_URL=https://dashscope.aliyuncs.com/compatible-mode/v1

## API æ¥å£

### 1. ä¸Šä¼ å›¾ç‰‡å¹¶æå–æ–‡æœ¬

**Endpoint:** POST /upload/

**è¯·æ±‚æ ¼å¼:** multipart/form-data

**å‚æ•°:**

- file: å›¾ç‰‡æ–‡ä»¶

**å“åº”ç¤ºä¾‹:**

```json
{
  "text": "æå–çš„æ–‡æœ¬å†…å®¹"
}
```

### 2. æ–‡æ¡£å›¾åƒçŸ«æ­£

**Endpoint:** POST /uvdoc/unwarp

**è¯·æ±‚æ ¼å¼:** multipart/form-data

**å‚æ•°:**

- file: éœ€è¦è¿›è¡Œå±•å¹³å¤„ç†çš„æ–‡æ¡£å›¾ç‰‡æ–‡ä»¶

**å“åº”æ ¼å¼:** image/png

**è¯´æ˜:**

- è¯¥æ¥å£ç”¨äºå¤„ç†å¼¯æ›²å˜å½¢çš„æ–‡æ¡£å›¾ç‰‡ï¼Œè¿”å›å±•å¹³åçš„å›¾ç‰‡
- æ”¯æŒå¸¸è§å›¾ç‰‡æ ¼å¼ï¼ˆPNGã€JPEGç­‰ï¼‰
- è¿”å›çš„æ˜¯å±•å¹³åçš„PNGæ ¼å¼å›¾ç‰‡æ•°æ®

**é”™è¯¯å“åº”:**

```json
{
  "detail": "Error message"
}
```

## æºç è¿è¡Œ

```
git clone https://gitee.com/log4j/office2md.git

cd office2md 

python3 -m venv venvdev

source venvdev/bin/activate

pip install -r requirements.txt

# å¯åŠ¨æœåŠ¡
uvicorn main:app --reload
```

# å•†ä¸šåŒ–é€‰æ‹©
<Card title="PIG AIåº”ç”¨å¼€å‘å¹³å° | é€‚åˆä¸­å¤§å‹ä¼ä¸šæ„å»ºè‡ªä¸»å¯æ§çš„AIä¸­å°" icon="link" href="https://ai.pig4cloud.com">
**ä¸ºJavaå¼€å‘è€…æä¾›å…¨æ ˆå¼AIå·¥ç¨‹åŒ–è§£å†³æ–¹æ¡ˆ**ï¼Œå¼ºç±»å‹/é«˜å¯ç»´æŠ¤æ€§æ¶æ„ï¼Œå†…ç½®30+ä¸»æµå¤§æ¨¡å‹æ”¯æŒã€‚

- **ğŸ” çŸ¥è¯†å¼•æ“ä½“ç³»**ï¼šRAG çŸ¥è¯†å¼•æ“å…¨è‡ªåŠ¨åŒ–å¤šæ¨¡æ€è§£å†³æ–¹æ¡ˆ
- **ğŸ“ AI-OCR ä¸­æ¢**ï¼šå¤æ‚éæ ‡åœºæ™¯é«˜ç²¾åº¦è¯†åˆ«
- **âš™ï¸ ä¸šåŠ¡æ™ºèƒ½èåˆ**ï¼šå‡½æ•°ç¼–æ’ + Chat2SQLï¼Œæ— ç¼å¯¹æ¥ç°æœ‰ä¸šåŠ¡ç³»ç»Ÿ
- **ğŸ›¡ï¸ Nç»´é£æ§ä½“ç³»**ï¼šæ•æ„Ÿè¯/IP/Token/User è§„åˆ™æ§åˆ¶å¼•æ“
</Card>