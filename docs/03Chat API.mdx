---
title: Chat API ä¸Šæ‰‹
---


åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†æ·±å…¥äº†è§£LangChain4jæ¡†æ¶çš„é«˜å±‚APIï¼ˆAiServicesï¼‰ï¼Œå¹¶å±•ç¤ºå¦‚ä½•å°†å…¶ä¸OpenAIé›†æˆï¼Œä»¥å®ç°ç®€å•çš„èŠå¤©åŠŸèƒ½ã€‚æˆ‘ä»¬å°†è®¨è®ºLangChain4jæ”¯æŒçš„å„ç§å¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMsï¼‰ï¼Œå¹¶é€æ­¥å±•ç¤ºå¦‚ä½•é€šè¿‡ç¤ºä¾‹ä»£ç å®ç°ã€‚

## LangChain4jæ”¯æŒçš„LLMs

| ä¾›åº”å•† | æµå¼è°ƒç”¨ | å‡½æ•° | JSON  | å¤šæ¨¡æ€ | è§‚æµ‹ |
| --- | --- | --- | --- | --- | --- |
| Amazon Bedrock | âœ… | âœ… |  | text |  |
| Anthropic | âœ… | âœ… |  | text, image |  |
| Azure OpenAI | âœ… | âœ… | âœ… | text, image | âœ… |
| ChatGLM |  |  |  | text |  |
| DashScope | âœ… | âœ… |  | text, image, audio | âœ… |
| GitHub Models | âœ… | âœ… | âœ… | text | âœ… |
| Google AI Gemini |  | âœ… | âœ… | text, image, audio, video, PDF | âœ… |
| Google Vertex AI Gemini | âœ… | âœ… | âœ… | text, image, audio, video, PDF | âœ… |
| Google Vertex AI PaLM 2 |  |  |  | text |  |
| Hugging Face |  |  |  | text |  |
| Jlama | âœ… | âœ… |  | text |  |
| LocalAI | âœ… | âœ… |  | text |  |
| Mistral AI | âœ… | âœ… | âœ… | text |  |
| Ollama | âœ… | âœ… | âœ… | text, image | âœ… |
| OpenAI | âœ… | âœ… | âœ… | text, image | âœ… |
| Qianfan | âœ… | âœ… |  | text |  |
| Cloudflare Workers AI |  |  |  | text |  |
| Zhipu AI | âœ… | âœ… |  | text, image | âœ… |


## LangChain4jçš„LLM APIæ¦‚è¿°

### æ ¸å¿ƒï¼šChatLanguageModel æ¨¡å‹å…ƒä¿¡æ¯æä¾›

#### 1. ä¾èµ–åŒ…

åœ¨`pom.xml`ä¸­æ·»åŠ ä»¥ä¸‹ä¾èµ–ï¼š

```xml
<dependency>
    <groupId>dev.langchain4j</groupId>
    <artifactId>langchain4j</artifactId>
</dependency>
<dependency>
    <groupId>dev.langchain4j</groupId>
    <artifactId>langchain4j-open-ai</artifactId>
</dependency>
```

#### 2. é…ç½®  ChatLanguageModel æä¾›æ¨¡å‹å…ƒä¿¡æ¯


```java
@Bean
public ChatLanguageModel chatLanguageModel() {
    return OpenAiChatModel.builder()
            .apiKey(System.getenv("DASHSCOPE_KEY"))
            .modelName("qwen-turbo")
            .baseUrl("https://dashscope.aliyuncs.com/compatible-mode/v1")
            .build();
}
```


### ä½çº§LLM API è°ƒç”¨

ä½¿ç”¨`ChatLanguageModel`æ¥å£ä¸å¤§æ¨¡å‹è¿›è¡Œäº¤äº’ã€‚ä»¥ä¸‹æ˜¯æ¥å£çš„ä¸»è¦æ–¹æ³•ï¼š

```java
public interface ChatLanguageModel {
    String generate(String userMessage);
    Response<AiMessage> generate(List<ChatMessage> messages);
}
```

```java
@SpringBootTest
class SimplechatApplicationTest {

    @Autowired
    private ChatLanguageModel chatLanguageModel;

    @Test
    public void testChat(){
        String generate = chatLanguageModel.generate("ä½ å¥½");
        System.out.println(generate);
    }
}
```

### é«˜çº§LLM API

ä¸ºäº†ç®€åŒ–å¼€å‘ï¼ŒLangChain4jæä¾›äº†é«˜å±‚APIï¼Œä½¿å¼€å‘è€…èƒ½å¤Ÿæ›´ä¸“æ³¨äºä¸šåŠ¡é€»è¾‘ï¼Œè€Œæ— éœ€å…³æ³¨åº•å±‚å®ç°ç»†èŠ‚ã€‚é«˜å±‚APIä¸­ï¼Œ`AiService` ç”¨äºå®šä¹‰ä¸€ä¸ªé›†æˆå¤§æ¨¡å‹çš„æœåŠ¡ã€‚

#### 1. å®šä¹‰AI Service

```java
package com.pig4cloud.ai.service;

/**
 *  AI åŠ©æ‰‹æ¥å£
*/
public interface ChatAssistant {
    String chat(String userMessage);
}
```

-  å£°æ˜æˆ Spring Beanï¼Œ æ³¨å…¥æ¨¡å‹

```java
@Bean
public ChatAssistant chatAssistant() {
    return AiServices.builder(ChatAssistant.class)
            .chatLanguageModel(chatLanguageModel())
            .build();
}
```

#### 2. æµ‹è¯•

```java
@SpringBootTest
class ChatAssistantTest {
    @Autowired
    private ChatAssistant chatAssistant;

    @Test
    public void testChat() {
        String message = "Hello";
        String response = chatAssistant.chat(message);
        System.out.println(response);
    }
}
```

<Card title="PIG AIåº”ç”¨å¼€å‘å¹³å° | é€‚åˆä¸­å¤§å‹ä¼ä¸šæ„å»ºè‡ªä¸»å¯æ§çš„AIä¸­å°" icon="link" href="https://ai.pig4cloud.com">
**ä¸ºJavaå¼€å‘è€…æä¾›å…¨æ ˆå¼AIå·¥ç¨‹åŒ–è§£å†³æ–¹æ¡ˆ**ï¼Œå¼ºç±»å‹/é«˜å¯ç»´æŠ¤æ€§æ¶æ„ï¼Œå†…ç½®30+ä¸»æµå¤§æ¨¡å‹æ”¯æŒã€‚

- **ğŸ” çŸ¥è¯†å¼•æ“ä½“ç³»**ï¼šRAG çŸ¥è¯†å¼•æ“å…¨è‡ªåŠ¨åŒ–å¤šæ¨¡æ€è§£å†³æ–¹æ¡ˆ
- **ğŸ“ AI-OCR ä¸­æ¢**ï¼šå¤æ‚éæ ‡åœºæ™¯é«˜ç²¾åº¦è¯†åˆ«
- **âš™ï¸ ä¸šåŠ¡æ™ºèƒ½èåˆ**ï¼šå‡½æ•°ç¼–æ’ + Chat2SQLï¼Œæ— ç¼å¯¹æ¥ç°æœ‰ä¸šåŠ¡ç³»ç»Ÿ
- **ğŸ›¡ï¸ Nç»´é£æ§ä½“ç³»**ï¼šæ•æ„Ÿè¯/IP/Token/User è§„åˆ™æ§åˆ¶å¼•æ“
</Card>

<Card title="æ–‡æ¡£æœ‰è¯¯ï¼Ÿè¯·ååŠ©ç¼–è¾‘" icon="pencil" href="https://github.com/javaai-pig4cloud-com/javaai-docs/edit/main/docs/03Chat API.mdx">
  å‘ç°æ–‡æ¡£é—®é¢˜ï¼Ÿç‚¹å‡»æ­¤å¤„ç›´æ¥åœ¨ GitHub ä¸Šç¼–è¾‘å¹¶æäº¤ PRï¼Œå¸®åŠ©æˆ‘ä»¬æ”¹è¿›æ–‡æ¡£ï¼
</Card>





