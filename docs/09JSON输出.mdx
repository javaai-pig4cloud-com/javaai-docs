---
title: JSON ç»“æ„åŒ–è¾“å‡º
---


åœ¨ä¸å¤§è¯­è¨€æ¨¡å‹(LLM)äº¤äº’æ—¶,æˆ‘ä»¬å¸¸å¸¸éœ€è¦å°†å…¶è¾“å‡ºè½¬æ¢ä¸ºç»“æ„åŒ–çš„æ•°æ®æ ¼å¼,ä»¥ä¾¿è¿›ä¸€æ­¥å¤„ç†å’Œä½¿ç”¨ã€‚LangChain4jæ¡†æ¶ä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ç§ä¼˜é›…çš„æ–¹å¼æ¥å®ç°è¿™ä¸€ç›®æ ‡ã€‚æœ¬æ–‡å°†æ·±å…¥æ¢è®¨LangChain4jå¦‚ä½•å°†LLMçš„è¿”å›ç»“æœæ ¼å¼åŒ–ä¸ºå„ç§æ•°æ®ç±»å‹,åŒ…æ‹¬åŸºæœ¬ç±»å‹ã€é›†åˆã€è‡ªå®šä¹‰POJOç­‰ã€‚

## LangChain4jæ”¯æŒçš„è¿”å›ç±»å‹


| åºå· | ç±»å‹åˆ†ç±»            | æ”¯æŒçš„ç±»å‹                                         |
| ---- | ------------------- | ------------------------------------------------ |
| 1    | å­—ç¬¦ä¸² (String)      | String                                           |
| 2    | åŸºæœ¬ç±»å‹            | boolean, byte, short, int, long, float, double   |
| 3    | åŒ…è£…ç±»å‹            | Boolean, Byte, Short, Integer, Long, Float, Double, BigDecimal |
| 4    | æ—¶é—´ç±»å‹            | Date, LocalDate, LocalTime, LocalDateTime        |
| 5    | é›†åˆç±»å‹            | List, Set                                        |
| 6    | æšä¸¾ç±»å‹            | Enum                                             |
| 7    | è‡ªå®šä¹‰POJO          | è‡ªå®šä¹‰çš„Javaç±»                                    |
| 8    | è‡ªå®šä¹‰Result        | è‡ªå®šä¹‰çš„Resultç±»å‹                                |
| 9    | AIæ¶ˆæ¯ç±»å‹          | AiMessage                                        |


## ç»“æ„åŒ–è¾“å‡ºç¤ºä¾‹
è®©æˆ‘ä»¬é€šè¿‡ä¸€äº›å…·ä½“çš„ä¾‹å­æ¥çœ‹çœ‹å¦‚ä½•ä½¿ç”¨LangChain4jå¤„ç†ä¸åŒç±»å‹çš„è¾“å‡ºã€‚

### å¸ƒå°”å€¼ä¸æšä¸¾
```java
package com.pig4cloud.ai.sentiment;

import dev.langchain4j.service.UserMessage;
import dev.langchain4j.service.spring.AiService;

public interface SentimentAnalyzer {
    
    // text=å‡æœŸç»“æŸå¼€å§‹ä¸Šç­
    @UserMessage("{{it}} æ˜¯å¦å…·æœ‰æ­£é¢æƒ…æ„Ÿï¼Ÿ")
    boolean isPositive(String text);

    // text=å‡æœŸç»“æŸå¼€å§‹ä¸Šç­
    @UserMessage("åˆ†æ {{it}} çš„æƒ…æ„Ÿ")
    Sentiment analyzeSentimentOf(String text);

    enum Sentiment {
        POSITIVE, // æ­£é¢æƒ…æ„Ÿ
        NEGATIVE, // è´Ÿé¢æƒ…æ„Ÿ
        NEUTRAL   // ä¸­ç«‹æƒ…æ„Ÿ
    }
}

```

åœ¨è¿™ä¸ªä¾‹å­ä¸­,æˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ª`SentimentAnalyzer`æ¥å£,å®ƒä½¿ç”¨LangChain4jçš„`@AiService`å’Œ`@UserMessage`æ³¨è§£æ¥å¤„ç†æƒ…æ„Ÿåˆ†æä»»åŠ¡ã€‚è¯¥æ¥å£åŒ…å«ä¸¤ä¸ªæ–¹æ³•:

+ `isPositive`: è¿”å›å¸ƒå°”å€¼,è¡¨ç¤ºæ–‡æœ¬æ˜¯å¦å…·æœ‰ç§¯ææƒ…æ„Ÿã€‚
+ `analyzeSentimentOf`: è¿”å›æšä¸¾å€¼,è¡¨ç¤ºæ–‡æœ¬çš„æƒ…æ„Ÿå€¾å‘(ç§¯æã€æ¶ˆææˆ–ä¸­æ€§)ã€‚

### æ•°å­—ç±»å‹
å¯¹äºæ•°å­—ç±»å‹çš„å¤„ç†,LangChain4jåŒæ ·æä¾›äº†å¼ºå¤§çš„æ”¯æŒ:


```java
public interface NumberExtractor {
    
    // text=æˆ‘èµšäº†100å—
    @UserMessage("Extract a number from {{it}}")
    int extractInt(String text);

    // text=æˆ‘èµšäº†100å—
    @UserMessage("Extract a long number from {{it}}")
    long extractLong(String text);

    // text=æˆ‘èµšäº†100å—
    @UserMessage("Extract a big integer from {{it}}")
    BigInteger extractBigInteger(String text);

    // text=æˆ‘èµšäº†100å—
    @UserMessage("Extract a float number from {{it}}")
    float extractFloat(String text);

    // text=æˆ‘èµšäº†100å—
    @UserMessage("Extract a double number from {{it}}")
    double extractDouble(String text);

    // text=æˆ‘èµšäº†100å—
    @UserMessage("Extract a big decimal from {{it}}")
    BigDecimal extractBigDecimal(String text);
}

```

è¿™ä¸ª`NumberExtractor`æ¥å£å±•ç¤ºäº†å¦‚ä½•ä»æ–‡æœ¬ä¸­æå–å„ç§æ•°å€¼ç±»å‹,åŒ…æ‹¬æ•´æ•°ã€é•¿æ•´æ•°ã€å¤§æ•´æ•°ã€æµ®ç‚¹æ•°ã€åŒç²¾åº¦æµ®ç‚¹æ•°å’Œå¤§å°æ•°ã€‚

### è‡ªå®šä¹‰POJO

LangChain4jè¿˜æ”¯æŒå°†LLMè¾“å‡ºè§£æä¸ºè‡ªå®šä¹‰çš„POJOå¯¹è±¡: 

```java
@AiService
public interface PersonExtractor {

    @UserMessage("Extract information about a person from {{it}}")
    Person extractPerson(String text);

    @Data
    class Person {
        @Description("name of a person") // å¢åŠ å­—æ®µæè¿°ï¼Œè®©å¤§æ¨¡å‹æ›´ç†è§£å­—æ®µå«ä¹‰
        private String name;
        private LocalDate birthDate;
    }
}

```

åœ¨è¿™ä¸ªä¾‹å­ä¸­,æˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ª`Person`ç±»ä½œä¸ºè‡ªå®šä¹‰POJO,åŒ…å«name å’ŒbirthDateå­—æ®µã€‚`extractPerson`æ–¹æ³•å°†ä»ç»™å®šæ–‡æœ¬ä¸­æå–äººç‰©ä¿¡æ¯å¹¶è¿”å›ä¸€ä¸ª`Person`å¯¹è±¡ã€‚

é€šè¿‡æŒæ¡è¿™äº›æ ¸å¿ƒç»„ä»¶,æˆ‘ä»¬å°±èƒ½æ›´å¥½åœ°åˆ©ç”¨LangChain4jæ¥å¤„ç†å¤§è¯­è¨€æ¨¡å‹çš„ç»“æ„åŒ–è¾“å‡º,ä¸ºæˆ‘ä»¬çš„AIåº”ç”¨å¼€å‘å¸¦æ¥æ›´å¤šå¯èƒ½æ€§ã€‚

<Card title="PIG AIåº”ç”¨å¼€å‘å¹³å° | é€‚åˆä¸­å¤§å‹ä¼ä¸šæ„å»ºè‡ªä¸»å¯æ§çš„AIä¸­å°" icon="link" href="https://ai.pig4cloud.com">
**ä¸ºJavaå¼€å‘è€…æä¾›å…¨æ ˆå¼AIå·¥ç¨‹åŒ–è§£å†³æ–¹æ¡ˆ**ï¼Œå¼ºç±»å‹/é«˜å¯ç»´æŠ¤æ€§æ¶æ„ï¼Œå†…ç½®30+ä¸»æµå¤§æ¨¡å‹æ”¯æŒã€‚

- **ğŸ” çŸ¥è¯†å¼•æ“ä½“ç³»**ï¼šRAG çŸ¥è¯†å¼•æ“å…¨è‡ªåŠ¨åŒ–å¤šæ¨¡æ€è§£å†³æ–¹æ¡ˆ
- **ğŸ“ AI-OCR ä¸­æ¢**ï¼šå¤æ‚éæ ‡åœºæ™¯é«˜ç²¾åº¦è¯†åˆ«
- **âš™ï¸ ä¸šåŠ¡æ™ºèƒ½èåˆ**ï¼šå‡½æ•°ç¼–æ’ + Chat2SQLï¼Œæ— ç¼å¯¹æ¥ç°æœ‰ä¸šåŠ¡ç³»ç»Ÿ
- **ğŸ›¡ï¸ Nç»´é£æ§ä½“ç³»**ï¼šæ•æ„Ÿè¯/IP/Token/User è§„åˆ™æ§åˆ¶å¼•æ“
</Card>

<Card title="æ–‡æ¡£æœ‰è¯¯ï¼Ÿè¯·ååŠ©ç¼–è¾‘" icon="pencil" href="https://github.com/javaai-pig4cloud-com/javaai-docs/edit/main/docs/09JSONè¾“å‡º.mdx">
  å‘ç°æ–‡æ¡£é—®é¢˜ï¼Ÿç‚¹å‡»æ­¤å¤„ç›´æ¥åœ¨ GitHub ä¸Šç¼–è¾‘å¹¶æäº¤ PRï¼Œå¸®åŠ©æˆ‘ä»¬æ”¹è¿›æ–‡æ¡£ï¼
</Card>

